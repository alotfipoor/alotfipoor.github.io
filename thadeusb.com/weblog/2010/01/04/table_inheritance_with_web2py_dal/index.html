<!doctype html><html lang="en">
<!-- Mirrored from thadeusb.com/weblog/2010/01/04/table_inheritance_with_web2py_dal/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 31 Jan 2019 17:05:58 GMT -->
<head><title>Table Inheritance with web2py DAL - ThadeusB</title><meta charset="utf-8"><meta name=author content="Thadeus Burgess" /><meta name=description content="It is possible to define common db columns, e.g. posted_by, posted_on, etc... once and define on theappropriate table to inherit these common columns. The DAL makes this quite easy. You define a Table with the common fields that you would like to i"/><meta name=keywords content="python, ai, robots, web2py, dal, table_inheritance, table, inheritance"/><meta name=robots content="index, follow" /><link rel="shortcut icon" href="https://thadeusb.com/static/favicon.ico" type="image/x-icon" /><link href="http://fonts.googleapis.com/css?family=Rubik|Aclonica|Averia+Libre" rel="stylesheet"><link href="../../../../../../use.fontawesome.com/aaf60b2b39.css" rel="stylesheet"> <link rel="stylesheet" type="text/css" href="https://thadeusb.com/static/gen/app.css?5d06cfbf"><link rel="stylesheet" type="text/css" media="print" href="https://thadeusb.com/static/gen/print.css?39bef004"><meta name="viewport" content="width=device-width" /><meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@thadeusb"> <meta name="twitter:creator" content="@thadeusb"> <meta name="twitter:title" content="Table Inheritance with web2py DAL"> <meta name="twitter:description" content="It is possible to define common db columns, e.g. posted_by, posted_on, etc... once and define on theappropriate table to inherit these common columns. The DAL makes this quite easy. You define a Table with the common fields that you would like to i"> <meta name="twitter:image" content="../../../../../index.html"></head><body class="weblog table_inheritance_with_web2py_dal  "><div class="container"><header class="header"><h1>Hi, I'm <a href="../../../../../index.html">Thadeus<span>B</span></a>.</h1><small>I code stuff. I raise bees. I game.</small></header><main class="content"><article lang="en" class="weblog" itemscope itemtype="//schema.org/BlogPosting"><link itemprop="url" href="index.html"><header><div id="article-title"></div><h2><a itemprop="name" href="index.html">Table Inheritance with web2py DAL</a></h2></header><section><p>It is possible to define common db columns, e.g. posted_by, posted_on, etc... once and define on the appropriate table to inherit these common columns.</p><p>The DAL makes this quite easy. You define a Table with the common fields that you would like to inherit from. When defining your database tables, you will pass this table along as an argument, web2py will handle inheriting its fields.</p><div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">gluon.sql</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;tmp&#39;</span><span class="p">,</span>
    <span class="n">Field</span><span class="p">(</span><span class="s1">&#39;posted_on&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">now</span><span class="p">),</span>
    <span class="n">Field</span><span class="p">(</span><span class="s1">&#39;posted_by&#39;</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">auth_user</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">auth</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">db</span><span class="o">.</span><span class="n">define_table</span><span class="p">(</span><span class="s1">&#39;posts&#39;</span><span class="p">,</span>
    <span class="n">dates</span><span class="p">,</span>
    <span class="n">Field</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">db</span><span class="o">.</span><span class="n">define_table</span><span class="p">(</span><span class="s1">&#39;links&#39;</span><span class="p">,</span>
    <span class="n">dates</span><span class="p">,</span>
    <span class="n">Field</span><span class="p">(</span><span class="s1">&#39;linkto&#39;</span><span class="p">,</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span>
<span class="p">)</span>
</pre></div></section><hr><aside><p><span class="article-author" itemprop="author" itemscope itemtype="//schema.org/Person"><span itemprop="name">Thadeus Burgess</span></span><time datetime="2010-01-04" itemprop="datePublished">2010-01-04</time>— in <a href="../../../../index.html" itemprop="genre">Weblog</a></p></aside><nav><a class="prev" href="../../05/query_between_dates/index.html">Query between dates</a> |<a class="next" href="../../03/web2py_dynamic_queries/index.html">web2py dynamic queries</a><div class="related"><h6>Related Entries <small>(in order of similarity)</small></h6><ul><li><a href="../../../04/21/using_fixtures_in_web2py/index.html">Using fixtures in web2py</a></li><li><a href="../../../03/19/increase_productivity_by_using_parameterized_queries_with_web2py/index.html">Increase Productivity By Using Parameterized Queries with web2py</a></li><li><a href="../../../02/01/check_reserved_sql_keywords_on_web2py_dal/index.html">Check reserved SQL Keywords on web2py DAL</a></li><li><a href="../../05/query_between_dates/index.html">Query between dates</a></li><li><a href="../../03/web2py_dynamic_queries/index.html">web2py dynamic queries</a></li><li><a href="../../../04/28/web2py_utilities/index.html">Web2py Utilities</a></li></ul></div></nav></article></main><nav class="sidebar"><ul><li class="home"><a href="../../../../../index.html">Home</a></li><li class="weblog active"><a href="../../../../index.html">Weblog</a></li><li class="recipes"><a href="../../../../../recipes/index.html">Recipes</a></li><li class="projects"><a href="../../../../../projects/index.html">Projects</a></li><li class="contact"><a href="../../../../../pages/contact/index.html">Contact</a></li></ul></nav><footer class="footer"><p>&copy; 2017 Thadeus Burgess— <a href="mailto:thadeusb@thadeusb.com" title="E-Mail"><i class="fa fa-fw fa-envelope"></i></a>— <a href="https://github.com/thadeusb" title="GitHub"><i class="fa fa-fw fa-github"></i></a>— <a href="https://www.linkedin.com/in/thadeusb/" title="LinkedIn"><i class="fa fa-fw fa-linkedin"></i></a></p></footer></div><div id="gear-container"><div id="gear"></div></div><script src="../../../../../../ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> <script type="text/javascript" src="https://thadeusb.com/static/gen/app.js?35034e78"></script><!--  GOOGLE ANALYTICS --> <script>var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-7293044-1']);_gaq.push(['_trackPageview']);(function() {  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);})();</script></body>
<!-- Mirrored from thadeusb.com/weblog/2010/01/04/table_inheritance_with_web2py_dal/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 31 Jan 2019 17:05:58 GMT -->
</html>