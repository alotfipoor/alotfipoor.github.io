<!doctype html><html lang="en">
<!-- Mirrored from thadeusb.com/weblog/2008/12/12/one_wordpress_one_database_multiple_domains/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 31 Jan 2019 17:05:50 GMT -->
<head><title>One Wordpress, One Database, Multiple Domains - ThadeusB</title><meta charset="utf-8"><meta name=author content="Thadeus Burgess" /><meta name=description content="Edit your wp-config.php file and set your table prefix to the address of the domain  In this example the table prefix would come from http"/><meta name=keywords content="python, ai, robots, software engineering, database, multiple_blogs, wordpress, multiple, domains, software, engineering"/><meta name=robots content="index, follow" /><link rel="shortcut icon" href="https://thadeusb.com/static/favicon.ico" type="image/x-icon" /><link href="http://fonts.googleapis.com/css?family=Rubik|Aclonica|Averia+Libre" rel="stylesheet"><link href="../../../../../../use.fontawesome.com/aaf60b2b39.css" rel="stylesheet"> <link rel="stylesheet" type="text/css" href="https://thadeusb.com/static/gen/app.css?5d06cfbf"><link rel="stylesheet" type="text/css" media="print" href="https://thadeusb.com/static/gen/print.css?39bef004"><meta name="viewport" content="width=device-width" /><meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@thadeusb"> <meta name="twitter:creator" content="@thadeusb"> <meta name="twitter:title" content="One Wordpress, One Database, Multiple Domains"> <meta name="twitter:description" content="Edit your wp-config.php file and set your table prefix to the address of the domain  In this example the table prefix would come from http"> <meta name="twitter:image" content="../../../../../index.html"></head><body class="weblog one_wordpress_one_database_multiple_domains  "><div class="container"><header class="header"><h1>Hi, I'm <a href="../../../../../index.html">Thadeus<span>B</span></a>.</h1><small>I code stuff. I raise bees. I game.</small></header><main class="content"><article lang="en" class="weblog" itemscope itemtype="//schema.org/BlogPosting"><link itemprop="url" href="index.html"><header><div id="article-title"></div><h2><a itemprop="name" href="index.html">One Wordpress, One Database, Multiple Domains</a></h2></header><section><p>Edit your wp-config.php file and set your table prefix to the address of the domain</p><p>In this example the table prefix would come from http://blog.thadeusb.com and will be translated into blogthadeusbcom_</p><div class="codehilite"><pre><span></span>$table_prefix = ereg_replace(&#39;^(www.)&#39;, &#39;&#39;, $_SERVER[&#39;HTTP_HOST&#39;]);

$table_prefix = ereg_replace(&#39;.&#39;, &#39;&#39;, $table_prefix);

$table_prefix = $table_prefix . &#39;_&#39;;
</pre></div><p>Now all that is needed are some symbolic links on each domain linking to the directory containing your wordpress files.</p><p>There is a problem though, if your existing wordpress blog has a lot of posts, they will not be migrated.</p><p>Somehow get a SQL dump of your current database, if you are running <a href="http://www.phpmyadmin.net/">phpmyadmin</a> that will make things much easier.</p><p>The steps are:</p><ol><li><p>Export database into SQL file</p></li><li><p>Open SQL file in your favorite text editor</p></li><li><p>Find/Replace the current table prefix with what it will be</p></li><li><p>Import the edited SQL file</p></li><li><p>Test your website with the altered database tables and new wp-config.php</p></li><li><p>If it works, delete your old database tables</p></li></ol><p><em><strong>Note: Be sure to do the database stuff first before you edit the wp-config.php so there will be no downtime!<strong><em>*</em>*<em> </em></strong> Note: Only delete the old WordPress tables once you are sure that the site is working with the new configuration!</strong></em> <em><strong>Note: Make sure to update database settings for any plugins that may need it, such as MySpace Crossposter </strong></em></p><p>If everything is working, installing wordpress on another domain is very easy. Just symbolic link the sub-folder to the directory of wordpress. When you visit your new site for the first time you will be prompted to set up wordpress for the first time! Sweet.</p><p><em>Note: wp-content is shared between all web sites, therefore plugins, and themes are accessible to each site.</em></p><p>Here are some pictures:</p><p>What the tables looked like... With the new wp-config.php file these just simply won't work!</p><p>[caption id="attachment_297" align="alignnone" width="300" caption="TheTables"][<img alt="The Tables" src="http://blog.thadeusb.com/wp-" />]<a href="../../../../../../blog.thadeusb.com/wp-content/uploads/2008/12/table_list1.png">3</a>[/caption]</p><p>Exporting the SQL file</p><p>[caption id="attachment_295" align="alignnone" width="300" caption="ExportSQL"][<img alt="Export SQL" src="../../../../../../blog.thadeusb.com/wp-content/uploads/2008/12/export-300x204.png" title="Export SQL" />]<a href="../../../../../../blog.thadeusb.com/wp-content/uploads/2008/12/export.png">5</a>[/caption]</p><p>Importing the new SQL file - Notice the new table names on the left side of the image.</p><p>[caption id="attachment_296" align="alignnone" width="300" caption="ImportSQL"][<img alt="Import SQL" src="../../../../../../blog.thadeusb.com/wp-content/uploads/2008/12/import-300x208.png" title="Import SQL" />]<a href="../../../../../../blog.thadeusb.com/wp-content/uploads/2008/12/import.png">7</a>[/caption]</p><p>credits: <a href="http://me.mywebsight.ws/2006/08/11/host-multiple-wp-sites-on-one-">http://me.mywebsight.ws/2006/08/11/host-multiple-wp-sites-on-one-installation/</a></p><p>content/uploads/2008/12/table_list1-300x198.png (Zeh Tables)</p><p>installation/</p></section><hr><aside><p><span class="article-author" itemprop="author" itemscope itemtype="//schema.org/Person"><span itemprop="name">Thadeus Burgess</span></span><time datetime="2008-12-12" itemprop="datePublished">2008-12-12</time>— in <a href="../../../../index.html" itemprop="genre">Weblog</a></p></aside><nav><a class="prev" href="../../16/artificial_neural_networks_multi_layer_perceptron/index.html">Artificial Neural Networks - Multi-Layer Perceptron</a> |<a class="next" href="../../../11/20/new_google_mail_themes/index.html">New Google Mail Themes</a><div class="related"><h6>Related Entries <small>(in order of similarity)</small></h6><ul><li><a href="../../../../2010/08/27/the_utf_8_bom_b/index.html">The UTF-8 BOM-B</a></li><li><a href="../../../../2009/03/25/subversion_to_mercurial_conversion_completed/index.html">Subversion to Mercurial Conversion Completed.</a></li><li><a href="../../../../2009/03/15/svn_vs_hg_vs_git_vs_bzr/index.html">Version Control Systems Compared - Subversion vs Mercurial vs Git vs Bazaar</a></li><li><a href="../../../../2010/08/23/python_multiple_decorators/index.html">Multiple Decorators for python functions</a></li><li><a href="../../../../2010/04/28/web2py_utilities/index.html">Web2py Utilities</a></li></ul></div></nav></article></main><nav class="sidebar"><ul><li class="home"><a href="../../../../../index.html">Home</a></li><li class="weblog active"><a href="../../../../index.html">Weblog</a></li><li class="recipes"><a href="../../../../../recipes/index.html">Recipes</a></li><li class="projects"><a href="../../../../../projects/index.html">Projects</a></li><li class="contact"><a href="../../../../../pages/contact/index.html">Contact</a></li></ul></nav><footer class="footer"><p>&copy; 2017 Thadeus Burgess— <a href="mailto:thadeusb@thadeusb.com" title="E-Mail"><i class="fa fa-fw fa-envelope"></i></a>— <a href="https://github.com/thadeusb" title="GitHub"><i class="fa fa-fw fa-github"></i></a>— <a href="https://www.linkedin.com/in/thadeusb/" title="LinkedIn"><i class="fa fa-fw fa-linkedin"></i></a></p></footer></div><div id="gear-container"><div id="gear"></div></div><script src="../../../../../../ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> <script type="text/javascript" src="https://thadeusb.com/static/gen/app.js?35034e78"></script><!--  GOOGLE ANALYTICS --> <script>var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-7293044-1']);_gaq.push(['_trackPageview']);(function() {  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);})();</script></body>
<!-- Mirrored from thadeusb.com/weblog/2008/12/12/one_wordpress_one_database_multiple_domains/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 31 Jan 2019 17:05:58 GMT -->
</html>